mysql> SELECT 
    ->     s.name AS student_name,
    ->     c.section,
    -> c.name,
    -> c.year
    -> FROM 
    -> student s
    -> JOIN 
    -> class c ON s.class_id = c.id;
+--------------+---------+------------+------+
| student_name | section | name       | year |
+--------------+---------+------------+------+
| Sabin        | A       | CSA S5 CSE | 2023 |
| Gautham      | A       | CSA S5 CSE | 2023 |
| Geo          | A       | CSA S5 CSE | 2023 |
| Shawkath     | A       | CSA S5 CSE | 2023 |
| Sherin       | A       | CSA S5 CSE | 2023 |
| Madhan       | A       | CSA S5 CSE | 2023 |
| Amil         | A       | CSA S5 CSE | 2023 |
+--------------+---------+------------+------+

mysql> SELECT 
    ->     s.name AS student_name,
    ->     c.name AS class_name,
    ->     p.total_amt,
    ->     p.payment_method
    -> FROM 
    ->     payment p
    -> JOIN 
    ->     student s ON p.student_id = s.id
    -> JOIN 
    ->     class c ON s.class_id = c.id;
+--------------+------------+-----------+----------------+
| student_name | class_name | total_amt | payment_method |
+--------------+------------+-----------+----------------+
| Sabin        | CSA S5 CSE |       300 | Cash           |
| Gautham      | CSA S5 CSE |       300 | Online         |
| Geo          | CSA S5 CSE |       200 | UPI            |
| Shawkath     | CSA S5 CSE |       500 | Online         |
+--------------+------------+-----------+----------------+

SELECT 
    ->     ft.id,
    ->     c.name AS class_name,
    ->     ft.transaction_type,
    ->     ft.amount,
    ->     ft.description,
    ->     ft.reference_id,
    ->     ft.transaction_date,
    ->     u.name AS created_by_name,
    ->     ft.created_at
    -> FROM 
    ->     fund_transaction ft
    -> LEFT JOIN 
    ->     class c ON ft.class_id = c.id
    -> LEFT JOIN 
    ->     user u ON ft.created_by = u.id;
+--------+------------+------------------+--------+--------------------+--------------+------------------+-----------------+---------------------+
| id     | class_name | transaction_type | amount | description        | reference_id | transaction_date | created_by_name | created_at          |
+--------+------------+------------------+--------+--------------------+--------------+------------------+-----------------+---------------------+
| ft_001 | CSA S5 CSE | DEPOSIT          |  50000 | Class Fund Opening | REF001       | 2023-09-01       | Class Staff     | 2025-07-28 14:52:39 |
| ft_002 | CSA S5 CSE | EXPENSE          |  12000 | Lab Equipment      | REF002       | 2023-09-05       | Class Staff     | 2025-07-28 14:52:39 |
| ft_003 | CSA S5 CSE | DEPOSIT          |  25000 | College Grant      | REF003       | 2023-09-10       | Class Staff     | 2025-07-28 14:52:39 |
+--------+------------+------------------+--------+--------------------+--------------+------------------+-----------------+---------------------+


mysql> SELECT 
    ->     s.id,
    ->     s.name,
    ->     SUM(p.total_amt) AS total_paid
    -> FROM 
    ->     student s
    -> JOIN 
    ->     payment p ON s.id = p.student_id
    -> GROUP BY 
    ->     s.id, s.name
    -> HAVING 
    ->     SUM(p.total_amt) > (SELECT AVG(total_amt) FROM payment);
+---------+----------+------------+
| id      | name     | total_paid |
+---------+----------+------------+
| stu_004 | Shawkath |        500 |
+---------+----------+------------+

mysql> SELECT 
    ->     s.id,
    ->     s.name,
    ->     SUM(p.total_amt) AS total_paid
    -> FROM 
    ->     student s
    -> JOIN 
    ->     payment p ON s.id = p.student_id
    -> GROUP BY 
    ->     s.id, s.name
    -> ORDER BY 
    ->     total_paid DESC
    -> LIMIT 1;
+---------+----------+------------+
| id      | name     | total_paid |
+---------+----------+------------+
| stu_004 | Shawkath |        500 |
+---------+----------+------------+


mysql> SELECT DISTINCT s.id, s.name
    -> FROM event_purchase ep
    -> JOIN student s ON ep.student_id = s.id
    -> WHERE ep.event_details_id IN (
    ->     SELECT event_details_id
    ->     FROM event_purchase
    ->     WHERE student_id = 'stu_004'
    -> )
    -> AND s.id != 'stu_004';
+---------+---------+
| id      | name    |
+---------+---------+
| stu_001 | Sabin   |
| stu_002 | Gautham |
| stu_003 | Geo     |
+---------+---------+

mysql> SELECT *
    -> FROM payment
    -> WHERE payment_date >= DATE_SUB(CURRENT_DATE(), INTERVAL 30 DAY);
+---------+------------+----------------+------------+------------+-----------+---------------------+---------------------+----------------+----------------+----------------+---------------------+----------------------+
| id      | student_id | payment_method | updated_by | created_by | total_amt | updated_at          | payment_date        | payment_status | transaction_id | reciept_number | created_at          | notes                |
+---------+------------+----------------+------------+------------+-----------+---------------------+---------------------+----------------+----------------+----------------+---------------------+----------------------+
| pay_001 | stu_001    | Cash           | staff1     | staff1     |       300 | 2025-08-04 14:32:25 | 2025-08-04 14:32:25 | Paid           |           1111 |           5001 | 2025-08-04 14:32:25 | Paid for Tech Fest   |
| pay_002 | stu_002    | Online         | staff1     | staff1     |       300 | 2025-08-04 14:32:25 | 2025-08-04 14:32:25 | Paid           |           1112 |           5002 | 2025-08-04 14:32:25 | Paid for Tech Fest   |
| pay_003 | stu_003    | UPI            | staff1     | staff1     |       200 | 2025-08-04 14:32:25 | 2025-08-04 14:32:25 | Paid           |           1113 |           5003 | 2025-08-04 14:32:25 | Paid for Farewell    |
| pay_004 | stu_004    | Online         | staff1     | staff1     |       500 | 2025-08-04 14:32:25 | 2025-08-04 14:32:25 | Paid           |           1114 |           5004 | 2025-08-04 14:32:25 | Paid for both events |
+---------+------------+----------------+------------+------------+-----------+---------------------+---------------------+----------------+----------------+----------------+---------------------+----------------------+

mysql> SELECT 
    ->     id,
    ->     name,
    ->     created_at,
    ->     DATEDIFF(CURRENT_DATE(), created_at) AS account_age_in_days
    -> FROM 
    ->     student;
+---------+----------+---------------------+---------------------+
| id      | name     | created_at          | account_age_in_days |
+---------+----------+---------------------+---------------------+
| stu_001 | Sabin    | 2025-07-28 14:52:39 |                  21 |
| stu_002 | Gautham  | 2025-07-28 14:52:39 |                  21 |
| stu_003 | Geo      | 2025-07-28 14:52:39 |                  21 |
| stu_004 | Shawkath | 2025-07-28 14:52:39 |                  21 |
| stu_005 | Sherin   | 2025-07-28 14:52:39 |                  21 |
| stu_006 | Madhan   | 2025-07-28 14:52:39 |                  21 |
| stu_007 | Amil     | 2025-07-28 14:52:39 |                  21 |
+---------+----------+---------------------+---------------------+

mysql> SELECT *
    -> FROM event_details
    -> WHERE deadline < CURRENT_DATE();
+-----------+------------+----------+---------------------+------+---------------------------+---------------------+---------------------+--------------+------------+------------+---------------------+
| id        | name       | type     | updated_at          | cost | description               | event_date          | deadline            | class_id     | created_by | updated_by | created_at          |
+-----------+------------+----------+---------------------+------+---------------------------+---------------------+---------------------+--------------+------------+------------+---------------------+
| event_001 | Tech Fest  | Academic | 2025-08-04 14:15:21 |  300 | Department Event          | 2023-10-20 10:00:00 | 2023-10-15 00:00:00 | class_csa_s5 | staff1     | staff1     | 2025-08-04 14:15:21 |
| event_002 | Farewell   | Social   | 2025-08-04 14:15:21 |  200 | Class farewell event      | 2023-11-10 15:00:00 | 2023-11-05 00:00:00 | class_csa_s5 | staff1     | staff1     | 2025-08-04 14:15:21 |
| evt_001   | Tech Fest  | Cultural | 2025-07-28 15:38:48 |  500 | Annual tech fest event    | 2023-12-15 00:00:00 | 2023-12-01 00:00:00 | class_csa_s5 | staff1     | staff1     | 2025-07-28 15:38:48 |
| evt_002   | Workshop   | Academic | 2025-07-28 15:38:48 |  300 | Web development workshop  | 2023-11-20 00:00:00 | 2023-11-10 00:00:00 | class_csa_s5 | staff1     | staff1     | 2025-07-28 15:38:48 |
| evt_003   | Sports Day | Sports   | 2025-07-28 15:38:48 |  200 | Annual sports competition | 2023-12-22 00:00:00 | 2023-12-10 00:00:00 | class_csa_s5 | staff1     | staff1     | 2025-07-28 15:38:48 |
+-----------+------------+----------+---------------------+------+---------------------------+---------------------+---------------------+--------------+------------+------------+---------------------+














